openapi: 3.0.0
info:
  title: APISIX Admin API V3.0
  version: 1.0.0
servers:
  - url: http://{{admin_api_addr}}
tags:
  - name: Route
    description: >-
      [https://docs.api7.ai/apisix/key-concepts/routes](https://docs.api7.ai/apisix/key-concepts/routes)
  - name: Service
    description: >-
      [https://docs.api7.ai/apisix/key-concepts/services](https://docs.api7.ai/apisix/key-concepts/services)
  - name: Consumer
  - name: Upstream
  - name: SSL
  - name: Global Rule
  - name: Consumer Group
  - name: Plugin Config
  - name: Plugin Metadata
  - name: Plugin
  - name: Stream Route
paths:
  /apisix/admin/routes:
    get:
      tags:
        - Route
      summary: List All Routes
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - createdIndex: 76
                    key: /apisix/routes/00000000000000000075
                    value:
                      uri: /ip
                      upstream:
                        scheme: http
                        nodes:
                          httpbin.org:80: 1
                        type: roundrobin
                        hash_on: vars
                        pass_host: pass
                      create_time: 1684138164
                      id: '00000000000000000075'
                      priority: 0
                      status: 1
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                      name: route-test
                      update_time: 1684138164
                      desc: desc
                    modifiedIndex: 76
                total: 1
    post:
      tags:
        - Route
      summary: Create Route
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: route-name
                desc: desc
                hosts:
                  - a.com
                  - b.com
                methods:
                  - GET
                  - POST
                uri: /ip
                upstream:
                  type: roundrobin
                  nodes:
                    httpbin.org:80: 1
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  uri: /ip
                  upstream:
                    scheme: http
                    nodes:
                      httpbin.org:80: 1
                    type: roundrobin
                    hash_on: vars
                    pass_host: pass
                  create_time: 1684137313
                  id: '00000000000000000066'
                  priority: 0
                  status: 1
                  methods:
                    - GET
                    - POST
                  hosts:
                    - a.com
                    - b.com
                  name: route-test
                  update_time: 1684137313
                  desc: desc
                key: /apisix/routes/00000000000000000066
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                type: object
              example:
                error_msg: wrong route id, do not need it
  /apisix/admin/routes/{id}:
    get:
      tags:
        - Route
      summary: One Route Resources
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The route id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                createdIndex: 79
                key: /apisix/routes/1
                value:
                  uri: /ip
                  upstream:
                    scheme: http
                    nodes:
                      httpbin.org:80: 1
                    type: roundrobin
                    hash_on: vars
                    pass_host: pass
                  create_time: 1684139349
                  id: '1'
                  priority: 0
                  status: 1
                  methods:
                    - GET
                    - POST
                  hosts:
                    - a.com
                    - b.com
                  name: route-test
                  update_time: 1684139349
                  desc: desc
                modifiedIndex: 79
    put:
      tags:
        - Route
      summary: Create A Specified ID Route
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: route-test
                desc: desc
                uri: /ip
                hosts:
                  - a.com
                  - b.com
                methods:
                  - GET
                  - POST
                plugins:
                  limit-count:
                    count: 2
                    time_window: 60
                    rejected_code: 503
                    key: remote_addr
                priority: 0
                remote_addrs:
                  - 127.0.0.1
                vars:
                  - - http_user
                    - '=='
                    - ios
                upstream:
                  type: roundrobin
                  nodes:
                    httpbin.org:80: 1
                timeout:
                  connect: 3
                  send: 3
                  read: 3
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The route id
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Create A Specified ID Route
                  value:
                    key: /apisix/routes/1
                    value:
                      plugins:
                        limit-count:
                          time_window: 60
                          rejected_code: 503
                          key: remote_addr
                          key_type: var
                          count: 2
                          show_limit_quota_header: true
                          allow_degradation: false
                          policy: local
                      timeout:
                        send: 3
                        read: 3
                        connect: 3
                      desc: desc
                      id: '1'
                      create_time: 1684202306
                      priority: 0
                      uri: /ip
                      update_time: 1684287825
                      upstream:
                        type: roundrobin
                        hash_on: vars
                        nodes:
                          httpbin.org:80: 1
                        pass_host: pass
                        scheme: http
                      name: route-test
                      status: 1
                      vars:
                        - - http_user
                          - '=='
                          - ios
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                      remote_addrs:
                        - 127.0.0.1
                example-1:
                  summary: Expires After 60 Seconds
                  value:
                    key: /apisix/routes/2
                    value:
                      plugins: {}
                      timeout:
                        send: 3
                        read: 3
                        connect: 3
                      desc: desc
                      id: '2'
                      create_time: 1684287417
                      priority: 0
                      uri: /ip
                      update_time: 1684287417
                      upstream:
                        type: roundrobin
                        hash_on: vars
                        nodes:
                          httpbin.org:80: 1
                        pass_host: pass
                        scheme: http
                      name: route-test
                      status: 1
                      vars:
                        - - http_user
                          - '=='
                          - ios
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                      remote_addrs:
                        - 127.0.0.1
    patch:
      tags:
        - Route
      summary: Update Route
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                upstream:
                  nodes:
                    127.0.0.1:1981: 1
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The target route id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Update Upstream Node To The Route
                  value:
                    value:
                      uri: /ip
                      upstream:
                        scheme: http
                        nodes:
                          httpbin.org:80: 1
                          127.0.0.1:1981: 1
                        type: roundrobin
                        hash_on: vars
                        pass_host: pass
                      create_time: 1684139349
                      id: '1'
                      priority: 0
                      status: 1
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                      name: route-test
                      update_time: 1684139719
                      desc: desc
                    key: /apisix/routes/1
                example-1:
                  summary: Disable Route
                  value:
                    key: /apisix/routes/1
                    value:
                      desc: desc
                      id: '1'
                      create_time: 1684202306
                      priority: 0
                      update_time: 1684286674
                      upstream:
                        type: roundrobin
                        hash_on: vars
                        nodes:
                          httpbin.org:80: 1
                        pass_host: pass
                        scheme: http
                      name: route-test
                      status: 0
                      methods:
                        - GET
                        - POST
                      hosts:
                        - a.com
                        - b.com
                      uri: /ip
            text/plain:
              schema:
                type: string
              example: |-
                {
                    "key": "/apisix/routes/1",
                    "value": {
                        "desc": "desc",
                        "id": "1",
                        "create_time": 1684202306,
                        "status": 1,
                        "update_time": 1684286480,
                        "upstream": {
                            "type": "roundrobin",
                            "hash_on": "vars",
                            "nodes": {
                                "httpbin.org:80": 1
                            },
                            "pass_host": "pass",
                            "scheme": "http"
                        },
                        "name": "route-test",
                        "uri": "/ip",
                        "methods": [
                            "GET",
                            "POST"
                        ],
                        "hosts": [
                            "a.com",
                            "b.com"
                        ],
                        "priority": 0
                    }
                }
    delete:
      tags:
        - Route
      summary: Delete Route
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The route id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                deleted: '1'
                key: /apisix/routes/1
  /apisix/admin/routes/{id}/{path}:
    patch:
      tags:
        - Route
      summary: Update Route By Path
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                - POST
                - DELETE
                - PATCH
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The target route id
        - name: path
          in: path
          schema:
            type: string
          required: true
          description: >-
            Updates the attribute specified in the path. The values of other
            attributes remain unchanged.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  uri: /ip
                  upstream:
                    scheme: http
                    nodes:
                      httpbin.org:80: 1
                      127.0.0.1:1981: 1
                    type: roundrobin
                    hash_on: vars
                    pass_host: pass
                  create_time: 1684139349
                  id: '1'
                  priority: 0
                  status: 1
                  methods:
                    - POST
                    - DELETE
                    - PATCH
                  hosts:
                    - a.com
                    - b.com
                  name: route-test
                  update_time: 1684140751
                  desc: desc
                key: /apisix/routes/1
  /apisix/admin/services:
    get:
      tags:
        - Service
      summary: List All Services
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - createdIndex: 85
                    key: /apisix/services/00000000000000000084
                    value:
                      upstream:
                        scheme: http
                        nodes:
                          127.0.0.1:1980: 1
                        type: roundrobin
                        hash_on: vars
                        pass_host: pass
                      create_time: 1684141323
                      enable_websocket: true
                      id: '00000000000000000084'
                      update_time: 1684141323
                      hosts:
                        - foo.com
                      plugins: {}
                      name: service-test
                      desc: hello world
                    modifiedIndex: 85
                total: 1
    post:
      tags:
        - Service
      summary: Create Service
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                plugins: {}
                upstream:
                  type: roundrobin
                  nodes:
                    127.0.0.1:1980: 1
                name: service-test
                desc: hello world
                enable_websocket: true
                hosts:
                  - foo.com
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  upstream:
                    scheme: http
                    nodes:
                      127.0.0.1:1980: 1
                    type: roundrobin
                    hash_on: vars
                    pass_host: pass
                  create_time: 1684141323
                  enable_websocket: true
                  id: '00000000000000000084'
                  update_time: 1684141323
                  hosts:
                    - foo.com
                  name: service-test
                  plugins: {}
                  desc: hello world
                key: /apisix/services/00000000000000000084
  /apisix/admin/services/{id}:
    get:
      tags:
        - Service
      summary: One Service Resources
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The target service id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                createdIndex: 86
                key: /apisix/services/1
                value:
                  upstream:
                    scheme: http
                    nodes:
                      127.0.0.1:1980: 1
                    type: roundrobin
                    hash_on: vars
                    pass_host: pass
                  create_time: 1684142130
                  enable_websocket: true
                  id: '1'
                  update_time: 1684142130
                  hosts:
                    - foo.com
                  name: service-test
                  plugins: {}
                  desc: hello world
                modifiedIndex: 86
    put:
      tags:
        - Service
      summary: Create A Specified ID Service
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                plugins:
                  limit-count:
                    count: 2
                    time_window: 60
                    rejected_code: 503
                    key: remote_addr
                upstream:
                  type: roundrobin
                  nodes:
                    127.0.0.1:1980: 1
                name: service-test
                desc: hello world
                enable_websocket: true
                hosts:
                  - foo.com
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specifies the ID of the service resource
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/services/1
                value:
                  plugins:
                    limit-count:
                      time_window: 60
                      rejected_code: 503
                      key: remote_addr
                      key_type: var
                      count: 2
                      show_limit_quota_header: true
                      allow_degradation: false
                      policy: local
                  desc: hello world
                  id: '1'
                  create_time: 1684287870
                  update_time: 1684287870
                  upstream:
                    type: roundrobin
                    hash_on: vars
                    nodes:
                      127.0.0.1:1980: 1
                    pass_host: pass
                    scheme: http
                  name: service-test
                  enable_websocket: true
                  hosts:
                    - foo.com
    patch:
      tags:
        - Service
      summary: Update Service
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                upstream:
                  nodes:
                    127.0.0.1:1981: null
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The target service id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Update Upstream Node To The Service
                  value:
                    value:
                      upstream:
                        scheme: http
                        nodes:
                          127.0.0.1:1981: 1
                          127.0.0.1:1980: 1
                        type: roundrobin
                        hash_on: vars
                        pass_host: pass
                      create_time: 1684142130
                      enable_websocket: true
                      id: '1'
                      update_time: 1684142459
                      hosts:
                        - foo.com
                      name: service-test
                      plugins: {}
                      desc: hello world
                    key: /apisix/services/1
                example-1:
                  summary: Delete An Upstream Node For The Route
                  value:
                    key: /apisix/services/1
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      desc: hello world
                      id: '1'
                      create_time: 1684287870
                      update_time: 1684288908
                      upstream:
                        type: roundrobin
                        hash_on: vars
                        nodes:
                          127.0.0.1:1980: 1
                        pass_host: pass
                        scheme: http
                      name: service-test
                      enable_websocket: true
                      hosts:
                        - foo.com
    delete:
      tags:
        - Service
      summary: Delete Service
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: The service id
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                deleted: '1'
                key: /apisix/services/1
  /apisix/admin/services/{id}/{path}:
    patch:
      tags:
        - Service
      summary: Update Service By Path
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                - foo.com
                - bar.com
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
        - name: path
          in: path
          schema:
            type: string
          required: true
          description: >-
            Updates the attribute specified in the path. The values of other
            attributes remain unchanged.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  upstream:
                    scheme: http
                    nodes:
                      127.0.0.1:1981: 1
                      127.0.0.1:1980: 1
                    type: roundrobin
                    hash_on: vars
                    pass_host: pass
                  create_time: 1684142130
                  enable_websocket: true
                  id: '1'
                  update_time: 1684142846
                  hosts:
                    - foo.com
                    - bar.com
                  plugins: {}
                  name: service-test
                  desc: hello world
                key: /apisix/services/1
  /apisix/admin/consumers:
    put:
      tags:
        - Consumer
      summary: Create Consumer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                username: jack
                plugins:
                  key-auth:
                    key: auth-one
                  limit-count:
                    count: 2
                    time_window: 60
                    rejected_code: 503
                    key: remote_addr
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/consumers/jack
                value:
                  plugins:
                    key-auth:
                      key: auth-one
                    limit-count:
                      time_window: 60
                      rejected_code: 503
                      key: remote_addr
                      key_type: var
                      count: 2
                      show_limit_quota_header: true
                      allow_degradation: false
                      policy: local
                  username: jack
                  create_time: 1683164776
                  update_time: 1684289832
    get:
      tags:
        - Consumer
      summary: List All Consumers
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        undefined:
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                        key-auth:
                          key: auth-one
                      username: jack
                      create_time: 1683164776
                      update_time: 1684289832
                    key: /apisix/consumers/jack
                    modifiedIndex: 119
                    createdIndex: 17
                total: 1
  /apisix/admin/consumers/{username}:
    get:
      tags:
        - Consumer
      summary: One Consumer Resources
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: username
          in: path
          schema:
            type: string
          required: true
          description: Specified consumer username.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  plugins:
                    limit-count:
                      rejected_code: 503
                      time_window: 60
                      key: remote_addr
                      key_type: var
                      count: 2
                      allow_degradation: false
                      show_limit_quota_header: true
                      policy: local
                    key-auth:
                      key: auth-one
                  username: jack
                  create_time: 1683164776
                  update_time: 1684289832
                key: /apisix/consumers/jack
                modifiedIndex: 119
                createdIndex: 17
    delete:
      tags:
        - Consumer
      summary: Delete Consumer
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: username
          in: path
          schema:
            type: string
          required: true
          description: Specified consumer username.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/consumers/jack
                deleted: '1'
  /apisix/admin/upstreams/{id}:
    put:
      tags:
        - Upstream
      summary: Create A Specified ID Upstream
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: upstream-for-test
                desc: desc
                scheme: http
                retries: 1
                type: roundrobin
                nodes:
                  127.0.0.1:1980: 1
                timeout:
                  connect: 15
                  send: 15
                  read: 15
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified upstream id.
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Create a Specified ID Upstream
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684290697
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        127.0.0.1:1980: 1
                      scheme: http
                example-1:
                  summary: Create a HTTPS Upstream
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291419
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        httpbin.org:443: 1
                      scheme: https
                example-2:
                  summary: Enable Health Check
                  value:
                    key: /apisix/upstreams/1
                    value:
                      hash_on: vars
                      desc: desc
                      id: '1'
                      create_time: 1684292372
                      checks:
                        passive:
                          type: http
                          healthy:
                            http_statuses:
                              - 200
                              - 201
                            successes: 3
                          unhealthy:
                            timeouts: 7
                            http_statuses:
                              - 500
                            http_failures: 3
                            tcp_failures: 3
                        active:
                          host: foo.com
                          concurrency: 10
                          http_path: /status
                          https_verify_certificate: true
                          type: http
                          req_headers:
                            - 'User-Agent: curl/7.29.0'
                          healthy:
                            successes: 1
                            http_statuses:
                              - 200
                              - 302
                            interval: 2
                          timeout: 5
                          unhealthy:
                            timeouts: 3
                            http_statuses:
                              - 429
                              - 404
                              - 500
                              - 501
                              - 502
                              - 503
                              - 504
                              - 505
                            interval: 1
                            http_failures: 2
                            tcp_failures: 2
                      pass_host: pass
                      update_time: 1684292372
                      type: roundrobin
                      name: upstream-for-test
                      retries: 1
                      nodes:
                        127.0.0.1:1980: 1
                        127.0.0.1:1970: 1
                      scheme: http
    patch:
      tags:
        - Upstream
      summary: Update Upstream
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                nodes:
                  127.0.0.1:1981: 1
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified upstream id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Add Node for Upstream
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291001
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        127.0.0.1:1981: 1
                        127.0.0.1:1980: 1
                      scheme: http
                example-1:
                  summary: Delete a Node for Upstream
                  value:
                    key: /apisix/upstreams/1
                    value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291110
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        127.0.0.1:1980: 1
                      scheme: http
    get:
      tags:
        - Upstream
      summary: One Upstream Resources
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified upstream id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  timeout:
                    send: 15
                    read: 15
                    connect: 15
                  desc: desc
                  id: '1'
                  create_time: 1684290697
                  retries: 1
                  pass_host: pass
                  update_time: 1684291419
                  type: roundrobin
                  name: upstream-for-test
                  hash_on: vars
                  nodes:
                    httpbin.org:443: 1
                  scheme: https
                key: /apisix/upstreams/1
                modifiedIndex: 126
                createdIndex: 121
    delete:
      tags:
        - Upstream
      summary: Delete Upstream
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified upstream id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/upstreams/1
                deleted: '1'
  /apisix/admin/upstreams:
    get:
      tags:
        - Upstream
      summary: List All Upstreams
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '1'
                      create_time: 1684290697
                      retries: 1
                      pass_host: pass
                      update_time: 1684291419
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        httpbin.org:443: 1
                      scheme: https
                    key: /apisix/upstreams/1
                    modifiedIndex: 126
                    createdIndex: 121
                  - value:
                      timeout:
                        send: 15
                        read: 15
                        connect: 15
                      desc: desc
                      id: '2'
                      create_time: 1684291436
                      retries: 1
                      pass_host: pass
                      update_time: 1684291436
                      type: roundrobin
                      name: upstream-for-test
                      hash_on: vars
                      nodes:
                        httpbin.org:443: 1
                      scheme: https
                    key: /apisix/upstreams/2
                    modifiedIndex: 127
                    createdIndex: 127
                total: 2
    post:
      tags:
        - Upstream
      summary: Create Upstream
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: upstream-for-test
                desc: desc
                scheme: http
                retries: 1
                type: roundrobin
                nodes:
                  127.0.0.1:1980: 1
                timeout:
                  connect: 15
                  send: 15
                  read: 15
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/upstreams/00000000000000000128
                value:
                  timeout:
                    send: 15
                    read: 15
                    connect: 15
                  desc: desc
                  id: '00000000000000000128'
                  create_time: 1684291897
                  retries: 1
                  pass_host: pass
                  update_time: 1684291897
                  type: roundrobin
                  name: upstream-for-test
                  hash_on: vars
                  nodes:
                    127.0.0.1:1980: 1
                  scheme: http
  /apisix/admin/ssls/{id}:
    put:
      tags:
        - SSL
      summary: Create a Specified ID SSL
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                cert: '-----BEGIN CERTIFICATE-----...'
                key: '-----BEGIN RSA PRIVATE KEY-----...'
                snis:
                  - t.com
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified ssl id.
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/ssls/1
                value:
                  type: server
                  key: <Encypted Private key>
                  snis:
                    - t.com
                  id: '1'
                  create_time: 1684373523
                  status: 1
                  cert: '-----BEGIN CERTIFICATE-----...'
                  update_time: 1684373523
    get:
      tags:
        - SSL
      summary: One SSL Resource
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified ssl id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  type: server
                  snis:
                    - t.com
                  id: '1'
                  create_time: 1684373523
                  status: 1
                  cert: '-----BEGIN CERTIFICATE-----...'
                  update_time: 1684373523
                key: /apisix/ssls/1
                modifiedIndex: 133
                createdIndex: 133
    delete:
      tags:
        - SSL
      summary: Delete SSL
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified ssl id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/ssls/00000000000000000134
                deleted: '1'
  /apisix/admin/ssls:
    get:
      tags:
        - SSL
      summary: List All SSL
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - value:
                      type: server
                      key: <Encypted Private key>
                      snis:
                        - t.com
                      id: '1'
                      create_time: 1684373523
                      status: 1
                      cert: '-----BEGIN CERTIFICATE-----...'
                      update_time: 1684373523
                    key: /apisix/ssls/1
                    modifiedIndex: 133
                    createdIndex: 133
                total: 1
    post:
      tags:
        - SSL
      summary: Create SSL
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                cert: '-----BEGIN CERTIFICATE-----...'
                key: '-----BEGIN RSA PRIVATE KEY-----...'
                snis:
                  - t.com
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        undefined:
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/ssls/00000000000000000134
                value:
                  type: server
                  cert: '-----BEGIN CERTIFICATE-----...'
                  key: <Encypted Private key>
                  id: '00000000000000000134'
                  create_time: 1684374944
                  status: 1
                  snis:
                    - t.com
                  update_time: 1684374944
  /apisix/admin/global_rules/{id}:
    put:
      tags:
        - Global Rule
      summary: Create a Specified ID Global Rule
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                plugins:
                  limit-count:
                    count: 2
                    time_window: 60
                    rejected_code: 503
                    key: remote_addr
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified global rule id.
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/global_rules/1
                value:
                  plugins:
                    limit-count:
                      time_window: 60
                      rejected_code: 503
                      key: remote_addr
                      key_type: var
                      count: 2
                      show_limit_quota_header: true
                      allow_degradation: false
                      policy: local
                  id: '1'
                  create_time: 1684375502
                  update_time: 1684375502
    get:
      tags:
        - Global Rule
      summary: One Global Rule Resource
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified global rule id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  plugins:
                    limit-count:
                      rejected_code: 503
                      time_window: 60
                      key: remote_addr
                      key_type: var
                      count: 2
                      allow_degradation: false
                      show_limit_quota_header: true
                      policy: local
                  update_time: 1684375502
                  create_time: 1684375502
                  id: '1'
                key: /apisix/global_rules/1
                modifiedIndex: 137
                createdIndex: 137
    patch:
      tags:
        - Global Rule
      summary: Update Global Rule
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                plugins:
                  limit-count:
                    count: 3
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified global rule id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/global_rules/1
                value:
                  plugins:
                    limit-count:
                      rejected_code: 503
                      time_window: 60
                      key: remote_addr
                      key_type: var
                      count: 3
                      allow_degradation: false
                      show_limit_quota_header: true
                      policy: local
                  update_time: 1684376614
                  create_time: 1684375502
                  id: '1'
    delete:
      tags:
        - Global Rule
      summary: Delete Global Rule
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified global rule id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/global_rules/1
                deleted: '1'
  /apisix/admin/global_rules:
    get:
      tags:
        - Global Rule
      summary: All  List Global Rules
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      update_time: 1684375502
                      create_time: 1684375502
                      id: '1'
                    key: /apisix/global_rules/1
                    modifiedIndex: 137
                    createdIndex: 137
                total: 1
  /apisix/admin/global_rules/{id}/{path}:
    patch:
      tags:
        - Global Rule
      summary: Update Global Rule By Path
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                prometheus: {}
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified global rule id.
        - name: path
          in: path
          schema:
            type: string
          required: true
          description: >-
            Updates the attribute specified in the path. The values of other
            attributes remain unchanged.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Update Plugins By Path
                  value:
                    key: /apisix/global_rules/1
                    value:
                      plugins:
                        prometheus:
                          prefer_name: false
                      id: '1'
                      create_time: 1684375502
                      update_time: 1684376931
                example-1:
                  summary: Update Target Plugin By Path
                  value:
                    key: /apisix/global_rules/1
                    value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 5
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      update_time: 1684377229
                      create_time: 1684375502
                      id: '1'
  /apisix/admin/consumer_groups/{id}:
    put:
      tags:
        - Consumer Group
      summary: Create a Specified ID Consumer Group
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                desc: desc
                plugins:
                  limit-count:
                    count: 2
                    time_window: 60
                    rejected_code: 503
                    key: remote_addr
                    group: $consumer_group_id
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified consumer groups id.
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/consumer_groups/company_a
                value:
                  plugins:
                    limit-count:
                      allow_degradation: false
                      count: 2
                      group: company_a
                      time_window: 60
                      key: remote_addr
                      key_type: var
                      show_limit_quota_header: true
                      rejected_code: 503
                      policy: local
                  desc: desc
                  id: company_a
                  create_time: 1684377809
                  update_time: 1684378459
    get:
      tags:
        - Consumer Group
      summary: One Consumer Group Resource
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified consumer groups id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  plugins:
                    limit-count:
                      allow_degradation: false
                      count: 2
                      group: $consumer_group_id
                      time_window: 60
                      show_limit_quota_header: true
                      key: remote_addr
                      rejected_code: 503
                      key_type: var
                      policy: local
                  desc: desc
                  id: company_a
                  create_time: 1684377809
                  update_time: 1684378459
                key: /apisix/consumer_groups/company_a
                modifiedIndex: 144
                createdIndex: 143
    patch:
      tags:
        - Consumer Group
      summary: Update Consumer Group
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                plugins:
                  prometheus: {}
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified consumer group id.
      responses:
        undefined:
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/consumer_groups/company_a
                value:
                  plugins:
                    limit-count:
                      allow_degradation: false
                      count: 2
                      group: $consumer_group_id
                      time_window: 60
                      show_limit_quota_header: true
                      key: remote_addr
                      rejected_code: 503
                      key_type: var
                      policy: local
                    prometheus:
                      prefer_name: false
                  desc: desc
                  id: company_a
                  create_time: 1684377809
                  update_time: 1684379208
    delete:
      tags:
        - Consumer Group
      summary: Delete Consumer Group
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified consumer group id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/consumer_groups/company_a
                deleted: '1'
  /apisix/admin/consumer_groups:
    get:
      tags:
        - Consumer Group
      summary: All  List Consumer Group
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        undefined:
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - value:
                      plugins:
                        limit-count:
                          allow_degradation: false
                          count: 2
                          group: $consumer_group_id
                          time_window: 60
                          show_limit_quota_header: true
                          key: remote_addr
                          rejected_code: 503
                          key_type: var
                          policy: local
                      desc: desc
                      id: company_a
                      create_time: 1684377809
                      update_time: 1684378459
                    key: /apisix/consumer_groups/company_a
                    modifiedIndex: 144
                    createdIndex: 143
                total: 1
  /apisix/admin/consumer_groups/{id}/{path}:
    patch:
      tags:
        - Consumer Group
      summary: Update Consumer Group By Path
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                prometheus: {}
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified consumer groups id.
        - name: path
          in: path
          schema:
            type: string
          required: true
          description: >-
            Updates the attribute specified in the path. The values of other
            attributes remain unchanged.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Update Plugins By Path
                  value:
                    key: /apisix/consumer_groups/company_a
                    value:
                      plugins:
                        prometheus:
                          prefer_name: false
                      desc: desc
                      id: company_a
                      create_time: 1684377809
                      update_time: 1684379529
                example-1:
                  summary: Update Target Plugin By Path
                  value:
                    key: /apisix/consumer_groups/company_a
                    value:
                      plugins:
                        prometheus:
                          prefer_name: false
                          disable: true
                      desc: desc
                      id: company_a
                      create_time: 1684377809
                      update_time: 1684379728
  /apisix/admin/plugin_configs/{id}:
    put:
      tags:
        - Plugin Config
      summary: Create a Specified ID Plugin Config
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                desc: desc
                plugins:
                  limit-count:
                    count: 2
                    time_window: 60
                    rejected_code: 503
                    key: remote_addr
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: integer
          required: true
          description: Specified plugin config id.
          example: '1'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/plugin_configs/1
                value:
                  plugins:
                    limit-count:
                      time_window: 60
                      rejected_code: 503
                      key: remote_addr
                      key_type: var
                      count: 2
                      show_limit_quota_header: true
                      allow_degradation: false
                      policy: local
                  desc: desc
                  id: '1'
                  create_time: 1684380007
                  update_time: 1684380034
    get:
      tags:
        - Plugin Config
      summary: One Plugin Config Resource
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified plugin config id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  plugins:
                    limit-count:
                      rejected_code: 503
                      time_window: 60
                      key: remote_addr
                      key_type: var
                      count: 2
                      allow_degradation: false
                      show_limit_quota_header: true
                      policy: local
                  desc: desc
                  id: '1'
                  create_time: 1684380007
                  update_time: 1684380034
                key: /apisix/plugin_configs/1
                modifiedIndex: 151
                createdIndex: 150
    patch:
      tags:
        - Plugin Config
      summary: Update Plugin Config
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                plugins:
                  prometheus: {}
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified plugin config id.
      responses:
        undefined:
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/plugin_configs/1
                value:
                  plugins:
                    limit-count:
                      rejected_code: 503
                      time_window: 60
                      key: remote_addr
                      key_type: var
                      count: 2
                      allow_degradation: false
                      show_limit_quota_header: true
                      policy: local
                    prometheus:
                      prefer_name: false
                  desc: desc
                  id: '1'
                  create_time: 1684380007
                  update_time: 1684380472
    delete:
      tags:
        - Plugin Config
      summary: Delete Plugin Config
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified plugin config id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/plugin_configs/1
                deleted: '1'
  /apisix/admin/plugin_configs:
    get:
      tags:
        - Plugin Config
      summary: All  List Plugin Configs
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                list:
                  - value:
                      plugins:
                        limit-count:
                          rejected_code: 503
                          time_window: 60
                          key: remote_addr
                          key_type: var
                          count: 2
                          allow_degradation: false
                          show_limit_quota_header: true
                          policy: local
                      desc: desc
                      id: '1'
                      create_time: 1684380007
                      update_time: 1684380034
                    key: /apisix/plugin_configs/1
                    modifiedIndex: 151
                    createdIndex: 150
                total: 1
  /apisix/admin/plugin_configs/{id}/{path}:
    patch:
      tags:
        - Plugin Config
      summary: Update Plugin Config By Path
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                prometheus: {}
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified plugin config id.
        - name: path
          in: path
          schema:
            type: string
          required: true
          description: >-
            Updates the attribute specified in the path. The values of other
            attributes remain unchanged.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: Update Plugin  By Path
                  value:
                    key: /apisix/plugin_configs/1
                    value:
                      plugins:
                        prometheus:
                          prefer_name: false
                      desc: desc
                      id: '1'
                      create_time: 1684380007
                      update_time: 1684380616
                example-1:
                  summary: Update Target Plugin By Path
                  value:
                    key: /apisix/plugin_configs/1
                    value:
                      plugins:
                        prometheus:
                          prefer_name: false
                      desc: desc
                      id: '1'
                      create_time: 1684380007
                      update_time: 1684380704
                      plugin:
                        prometheus:
                          disable: true
  /apisix/admin/plugin_metadata/{plugin_name}:
    put:
      tags:
        - Plugin Metadata
      summary: Create a Specified ID Plugin Config
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                skey: val
                ikey: 1
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: plugin_name
          in: path
          schema:
            type: string
          required: true
          description: The specified plugin name
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/plugin_metadata/example-plugin
                value:
                  skey: val
                  ikey: 1
    get:
      tags:
        - Plugin Metadata
      summary: One Plugin Config Resource
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: plugin_name
          in: path
          schema:
            type: string
          required: true
          description: The specified plugin name
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  skey: val
                  ikey: 1
                key: /apisix/plugin_metadata/example-plugin
                modifiedIndex: 156
                createdIndex: 156
    delete:
      tags:
        - Plugin Metadata
      summary: Delete Plugin Config
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: plugin_name
          in: path
          schema:
            type: string
          required: true
          description: The specified plugin name
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                key: /apisix/plugin_metadata/example-plugin
                deleted: '1'
  /apisix/admin/plugins/list:
    get:
      tags:
        - Plugin
      summary: All List Plugins
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                - real-ip
                - ai
                - client-control
                - proxy-control
                - request-id
                - zipkin
                - ext-plugin-pre-req
                - fault-injection
                - mocking
                - serverless-pre-function
                - cors
                - ip-restriction
                - ua-restriction
                - referer-restriction
                - csrf
                - uri-blocker
                - request-validation
                - openid-connect
                - cas-auth
                - authz-casbin
                - authz-casdoor
                - wolf-rbac
                - ldap-auth
                - hmac-auth
                - basic-auth
                - jwt-auth
                - key-auth
                - consumer-restriction
                - forward-auth
                - opa
                - authz-keycloak
                - body-transformer
                - proxy-mirror
                - proxy-cache
                - proxy-rewrite
                - workflow
                - api-breaker
                - limit-conn
                - limit-count
                - limit-req
                - gzip
                - server-info
                - traffic-split
                - redirect
                - response-rewrite
                - degraphql
                - kafka-proxy
                - grpc-transcode
                - grpc-web
                - public-api
                - prometheus
                - datadog
                - elasticsearch-logger
                - echo
                - loggly
                - http-logger
                - splunk-hec-logging
                - skywalking-logger
                - google-cloud-logging
                - sls-logger
                - tcp-logger
                - kafka-logger
                - rocketmq-logger
                - syslog
                - udp-logger
                - file-logger
                - clickhouse-logger
                - tencent-cloud-cls
                - inspect
                - example-plugin
                - aws-lambda
                - azure-functions
                - openwhisk
                - openfunction
                - serverless-post-function
                - ext-plugin-post-req
                - ext-plugin-post-resp
  /apisix/admin/plugins/{plugin_name}:
    get:
      tags:
        - Plugin
      summary: Specified Plugin Data Structure
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: plugin_name
          in: path
          schema:
            type: string
          required: true
          description: The specified plugin name
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                type: object
                then:
                  properties:
                    redis_port:
                      type: integer
                      default: 6379
                      minimum: 1
                    redis_password:
                      type: string
                      minLength: 0
                    redis_database:
                      type: integer
                      default: 0
                      minimum: 0
                    redis_timeout:
                      type: integer
                      default: 1000
                      minimum: 1
                    redis_host:
                      type: string
                      minLength: 2
                  required:
                    - redis_host
                required:
                  - count
                  - time_window
                if:
                  properties:
                    policy:
                      enum:
                        - redis
                else:
                  if:
                    properties:
                      policy:
                        enum:
                          - redis-cluster
                  then:
                    properties:
                      redis_cluster_ssl_verify:
                        type: boolean
                        default: false
                      redis_password:
                        type: string
                        minLength: 0
                      redis_timeout:
                        type: integer
                        default: 1000
                        minimum: 1
                      redis_cluster_nodes:
                        type: array
                        minItems: 2
                        items:
                          type: string
                          minLength: 2
                          maxLength: 100
                      redis_cluster_name:
                        type: string
                      redis_cluster_ssl:
                        type: boolean
                        default: false
                    required:
                      - redis_cluster_nodes
                      - redis_cluster_name
                $comment: this is a mark for our injected plugin schema
                properties:
                  _meta:
                    type: object
                    properties:
                      filter:
                        type: array
                        description: >-
                          filter determines whether the plugin needs to be
                          executed at runtime
                      error_response:
                        oneOf:
                          - type: string
                          - type: object
                      priority:
                        type: integer
                        description: priority of plugins by customized order
                      disable:
                        type: boolean
                  key_type:
                    type: string
                    enum:
                      - var
                      - var_combination
                      - constant
                    default: var
                  count:
                    type: integer
                    exclusiveMinimum: 0
                  group:
                    type: string
                  rejected_code:
                    type: integer
                    default: 503
                    maximum: 599
                    minimum: 200
                  key:
                    type: string
                    default: remote_addr
                  show_limit_quota_header:
                    type: boolean
                    default: true
                  allow_degradation:
                    type: boolean
                    default: false
                  time_window:
                    type: integer
                    exclusiveMinimum: 0
                  rejected_msg:
                    type: string
                    minLength: 1
                  policy:
                    type: string
                    enum:
                      - local
                      - redis
                      - redis-cluster
                    default: local
  /apisix/admin/plugins:
    get:
      tags:
        - Plugin
      summary: All  Stream Plugins Data Structure Copy
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: all
          in: query
          schema:
            type: boolean
          example: 'true'
        - name: subsystem
          in: query
          schema:
            type: string
          example: stream
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                limit-conn:
                  priority: 1003
                  version: 0.1
                  schema:
                    type: object
                    $comment: this is a mark for our injected plugin schema
                    required:
                      - conn
                      - burst
                      - default_conn_delay
                      - key
                    properties:
                      only_use_default_delay:
                        type: boolean
                        default: false
                      conn:
                        type: integer
                        exclusiveMinimum: 0
                      burst:
                        type: integer
                        minimum: 0
                      key_type:
                        type: string
                        enum:
                          - var
                          - var_combination
                        default: var
                      _meta:
                        type: object
                        properties:
                          filter:
                            type: array
                            description: >-
                              filter determines whether the plugin needs to be
                              executed at runtime
                          error_response:
                            oneOf:
                              - type: string
                              - type: object
                          priority:
                            type: integer
                            description: priority of plugins by customized order
                          disable:
                            type: boolean
                      key:
                        type: string
                      default_conn_delay:
                        type: number
                        exclusiveMinimum: 0
                syslog:
                  schema:
                    type: object
                    $comment: this is a mark for our injected plugin schema
                    required:
                      - host
                      - port
                    properties:
                      _meta:
                        type: object
                        properties:
                          filter:
                            type: array
                            description: >-
                              filter determines whether the plugin needs to be
                              executed at runtime
                          error_response:
                            oneOf:
                              - type: string
                              - type: object
                          priority:
                            type: integer
                            description: priority of plugins by customized order
                          disable:
                            type: boolean
                      host:
                        type: string
                      max_retry_count:
                        type: integer
                        default: 0
                        minimum: 0
                      drop_limit:
                        type: integer
                        default: 1048576
                      flush_limit:
                        type: integer
                        default: 4096
                        minimum: 1
                      pool_size:
                        type: integer
                        default: 5
                        minimum: 5
                      sock_type:
                        type: string
                        default: tcp
                        enum:
                          - tcp
                          - udp
                      buffer_duration:
                        type: integer
                        default: 60
                        minimum: 1
                      retry_delay:
                        type: integer
                        default: 1
                        minimum: 0
                      tls:
                        type: boolean
                        default: false
                      name:
                        type: string
                        default: stream sys logger
                      log_format:
                        type: object
                      batch_max_size:
                        type: integer
                        default: 1000
                        minimum: 1
                      timeout:
                        type: integer
                        default: 3000
                        minimum: 1
                      inactive_timeout:
                        type: integer
                        default: 5
                        minimum: 1
                      port:
                        type: integer
                  priority: 401
                  version: 0.1
                  metadata_schema:
                    type: object
                    properties:
                      log_format:
                        type: object
                        default:
                          '@timestamp': $time_iso8601
                          host: $host
                          client_ip: $remote_addr
                ip-restriction:
                  priority: 3000
                  version: 0.1
                  schema:
                    type: object
                    oneOf:
                      - required:
                          - whitelist
                      - required:
                          - blacklist
                    $comment: this is a mark for our injected plugin schema
                    properties:
                      message:
                        type: string
                        minLength: 1
                        maxLength: 1024
                        default: Your IP address is not allowed
                      _meta:
                        type: object
                        properties:
                          filter:
                            type: array
                            description: >-
                              filter determines whether the plugin needs to be
                              executed at runtime
                          error_response:
                            oneOf:
                              - type: string
                              - type: object
                          priority:
                            type: integer
                            description: priority of plugins by customized order
                          disable:
                            type: boolean
                      blacklist:
                        type: array
                        minItems: 1
                        items:
                          anyOf:
                            - type: string
                              format: ipv4
                              title: IPv4
                            - type: string
                              pattern: >-
                                ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                              title: IPv4/CIDR
                            - type: string
                              format: ipv6
                              title: IPv6
                            - type: string
                              pattern: >-
                                ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                              title: IPv6/CIDR
                      whitelist:
                        type: array
                        minItems: 1
                        items:
                          anyOf:
                            - type: string
                              format: ipv4
                              title: IPv4
                            - type: string
                              pattern: >-
                                ^([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/([12]?[0-9]|3[0-2])$
                              title: IPv4/CIDR
                            - type: string
                              format: ipv6
                              title: IPv6
                            - type: string
                              pattern: >-
                                ^([a-fA-F0-9]{0,4}:){1,8}(:[a-fA-F0-9]{0,4}){0,8}([a-fA-F0-9]{0,4})?/[0-9]{1,3}$
                              title: IPv6/CIDR
                mqtt-proxy:
                  priority: 1000
                  version: 0.1
                  schema:
                    type: object
                    $comment: this is a mark for our injected plugin schema
                    required:
                      - protocol_name
                      - protocol_level
                    properties:
                      _meta:
                        type: object
                        properties:
                          filter:
                            type: array
                            description: >-
                              filter determines whether the plugin needs to be
                              executed at runtime
                          error_response:
                            oneOf:
                              - type: string
                              - type: object
                          priority:
                            type: integer
                            description: priority of plugins by customized order
                          disable:
                            type: boolean
                      protocol_name:
                        type: string
                      protocol_level:
                        type: integer
  /apisix/admin/stream_routes/{id}:
    put:
      tags:
        - Stream Route
      summary: Create a Specified ID Stream Route
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                server_addr: 127.0.0.1
                server_port: 2000
                upstream:
                  nodes:
                    127.0.0.1:1995: 1
                  type: roundrobin
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified stream route id.
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  id: '1'
                  server_port: 2000
                  server_addr: 127.0.0.1
                  upstream:
                    hash_on: vars
                    pass_host: pass
                    nodes:
                      127.0.0.1:1995: 1
                    type: roundrobin
                    scheme: http
                  update_time: 1684392990
                  create_time: 1684392990
                key: /apisix/stream_routes/1
    get:
      tags:
        - Stream Route
      summary: One Stream Route Resource
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified stream route id.
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                createdIndex: 173
                key: /apisix/stream_routes/1
                value:
                  id: '1'
                  create_time: 1684392990
                  server_addr: 127.0.0.1
                  upstream:
                    hash_on: vars
                    pass_host: pass
                    nodes:
                      127.0.0.1:1995: 1
                    type: roundrobin
                    scheme: http
                  update_time: 1684392990
                  server_port: 2000
                modifiedIndex: 173
    delete:
      tags:
        - Stream Route
      summary: Delete Plugin Config
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
        - name: id
          in: path
          schema:
            type: string
          required: true
          description: Specified plugin config id.
      responses:
        '200':
          description: Successful response
          content:
            application/json: {}
  /apisix/admin/stream_routes:
    get:
      tags:
        - Stream Route
      summary: All  List Stream Routes
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
              example:
                total: 1
                list:
                  - createdIndex: 173
                    key: /apisix/stream_routes/1
                    value:
                      id: '1'
                      create_time: 1684392990
                      server_addr: 127.0.0.1
                      upstream:
                        hash_on: vars
                        pass_host: pass
                        nodes:
                          127.0.0.1:1995: 1
                        type: roundrobin
                        scheme: http
                      update_time: 1684392990
                      server_port: 2000
                    modifiedIndex: 173
    post:
      tags:
        - Stream Route
      summary: Create Stream Route
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                server_addr: 127.0.0.1
                server_port: 2000
                upstream:
                  nodes:
                    127.0.0.1:1995: 1
                  type: roundrobin
      parameters:
        - name: X-API-KEY
          in: header
          schema:
            type: string
          example: '{{Admin_Key}}'
      responses:
        '201':
          description: Created
          content:
            application/json:
              schema:
                type: object
              example:
                value:
                  id: '00000000000000000176'
                  create_time: 1684393167
                  server_addr: 127.0.0.1
                  upstream:
                    hash_on: vars
                    pass_host: pass
                    nodes:
                      127.0.0.1:1995: 1
                    type: roundrobin
                    scheme: http
                  update_time: 1684393167
                  server_port: 2000
                key: /apisix/stream_routes/00000000000000000176
